<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      <p style="text-align: center;" >Inicio</p>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <div class="chart-row">
    <ion-card color="dark" class="chart-container">
      <ion-card-header>
        <h2 style="text-align: center; font-weight: bold;" >Reportes por estatus</h2>
      </ion-card-header>
      <ion-card-content>

            <canvas  id="MyChart" >{{ chart }}</canvas>

      </ion-card-content>
    </ion-card>
    <ion-card color="dark" class="chart-container">
      <ion-card-header>
        <h2 style="text-align: center; font-weight: bold;" >Reportes por usuario</h2>
      </ion-card-header>
      <ion-card-content>

          <canvas  id="MyChart1" >{{ chart1 }}</canvas>

      </ion-card-content>
    </ion-card>
    <ion-card color="dark" class="chart-container">
      <ion-card-header>
        <h2 style="text-align: center; font-weight: bold;" >Diferencia por estatus</h2>
      </ion-card-header>
      <ion-card-content>
          <canvas  id="MyChart2" >{{ chart2 }}</canvas>
      </ion-card-content>
    </ion-card>
  </div>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Reportes recientes</ion-card-title>
    </ion-card-header>
    <ion-card-content class="swiper-card-content">
      <div class="swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide" *ngFor="let report of reportes">
            <ion-card color="dark" class="custom-card">
              <ion-card-content>
                <ion-item color="dark" lines="none">
                  <div class="flex-container">
                    <div>
                      <ion-label>{{report.colonia + ' ' + report.calle + ' ' + report.numeroexterior + ' #' + report.cp}}</ion-label>
                    </div>
                    <div>
                      <ion-label>{{report.estados.nombre_estado}}, {{report.municipios.nombre_municipio}}</ion-label>
                    </div>
                    <div>
                      <div *ngIf="report.estatusid === 1">
                        <ion-badge color="success">Arreglado</ion-badge>
                      </div>
                      <div *ngIf="report.estatusid === 2">
                        <ion-badge color="danger">Sin arreglar</ion-badge>
                      </div>
                    </div>

                  </div>
                </ion-item>
                <ion-buttons slot="end">
                  <ion-button fill="clear" (click)="goReportes()" class="ver-mas-button">Ver mas</ion-button>
                </ion-buttons>
              </ion-card-content>
            </ion-card>
          </div>
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </div>
    </ion-card-content>
  </ion-card>



  <ion-card>
    <ion-card-header>
      <ion-card-title>Usuarios mas activos</ion-card-title>
    </ion-card-header>
    <ion-card-content class="swiper-card-content">
      <div class="swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide" *ngFor="let user of users">
            <ion-card color="dark" class="custom-card">
              <ion-card-content>
                <ion-item color="dark" lines="none">
                  <ion-avatar slot="start" class="custom-avatar">
                    <img alt="Silhouette of a person's head" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
                  </ion-avatar>
                  <div class="flex-container">
                    <div>
                      <ion-label>{{user.name + ' ' + user.f_name + ' ' + user.m_name}}</ion-label>
                    </div>
                    <div>
                      <ion-label>{{user.roles.nombre}}</ion-label>
                    </div>
                    <div>
                      <ion-label><p>Ha registrado <strong>{{user.registros}}</strong> reportes</p></ion-label>
                    </div>
                  </div>

                </ion-item>
                <ion-buttons slot="end">
                  <ion-button fill="clear" (click)="goUsers()" class="ver-mas-button">Ver mas</ion-button>
                </ion-buttons>
              </ion-card-content>
            </ion-card>
          </div>
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </div>
    </ion-card-content>
  </ion-card>

</ion-content>
